# Аўтаномныя прыкладанні

Ёсць некалькі спосабаў мантавання прыкладання Nest. Вы можаце стварыць вэб-прыкладанне, мікрасэрвіс або проста **аўтаномнае прыкладанне** Nest (без сеткавых слухачоў). Аўтаномнае прыкладанне Nest - гэта абалонка вакол **кантэйнера Nest IoC** , які змяшчае ўсе створаныя класы. Мы можам атрымаць спасылку на любы існуючы асобнік з любога імпартаванага модуля непасрэдна з дапамогай аўтаномнага аб'екта прыкладання. Такім чынам, вы можаце скарыстацца перавагамі фрэймворка Nest дзе заўгодна, у тым ліку, напрыклад, у заданні **CRON** са сцэнарамі. Вы нават можаце стварыць **CLI** на яго аснове.

## Пачатак

Каб стварыць аўтаномнае прыкладанне Nest, выкарыстоўвайце наступную канструкцыю:

```typescript
@@filename()
async function bootstrap() {
  const app = await NestFactory.createApplicationContext(AppModule);
  // application logic...
}
bootstrap();
```

Аўтаномны аб'ект прыкладання дазваляе вам атрымаць спасылку на любы асобнік, зарэгістраваны ў дадатку Nest. Давайце ўявім, што ў `TasksModule` у нас ёсць `TasksService` . Гэты клас забяспечвае набор метадаў, якія мы хочам выклікаць знутры задання CRON.

```typescript
@@filename()
const app = await NestFactory.createApplicationContext(AppModule);
const tasksService = app.get(TasksService);
```

Каб атрымаць доступ да асобніка `TasksService` , мы выкарыстоўваем метад `get()` . Метад `get()` дзейнічае як **запыт** , які шукае асобнік у кожным зарэгістраваным модулі. У якасці альтэрнатывы, для строгай праверкі кантэксту, перадайце аб'ект options з уласцівасцю `strict: true` . Калі гэтая опцыя дзейнічае, вы павінны перамяшчацца па пэўных модулях, каб атрымаць пэўны асобнік з абранага кантэксту.

```typescript
@@filename()
const app = await NestFactory.createApplicationContext(AppModule);
const tasksService = app.select(TasksModule).get(TasksService, { strict: true });
```

Ніжэй прыводзіцца кароткі выклад метадаў, даступных для атрымання спасылак на асобнікі з аўтаномнага аб'екта прыкладання.

<table>
  <tr>
    <td>
      <code>get()</code>
    </td>
    <td>       Атрымлівае асобнік кантролера або пастаўшчыка (уключаючы ахоўнікі, фільтры і гэтак далей), даступны ў кантэксце прыкладання.     </td>
  </tr>
  <tr>
    <td>
      <code>select()</code>
    </td>
    <td>       Перамяшчаецца па графіцы модуля, каб атрымаць пэўны асобнік абранага модуля (выкарыстоўваецца разам са строгім рэжымам, як апісана вышэй).     </td>
  </tr>
</table>

:::info **Падказка** У нестрогім рэжыме каранёвы модуль выбіраецца па змаўчанні. Каб выбраць любы іншы модуль, вам трэба крок за крокам перамяшчацца па графіку модуляў уручную. :::

Калі вы хочаце, каб прыкладанне вузла зачынілася пасля завяршэння сцэнарыя (напрыклад, для сцэнарыя, які выконвае заданні CRON), дадайце `await app.close()` у канец вашай функцыі `bootstrap` :

```typescript
@@filename()
async function bootstrap() {
  const app = await NestFactory.createApplicationContext(AppModule);
  // application logic...
  await app.close();
}
bootstrap();
```

## прыклад

Працоўны прыклад даступны [тут](https://github.com/nestjs/nest/tree/master/sample/18-context) .
